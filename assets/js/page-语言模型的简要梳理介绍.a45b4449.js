(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{683:function(s,t,a){"use strict";a.r(t);var i=a(1),l=Object(i.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"语言模型的数学表示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语言模型的数学表示"}},[s._v("#")]),s._v(" 语言模型的数学表示")]),s._v(" "),a("p",[s._v("对于一个由"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("m")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("m")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.4306em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("m")])])])]),s._v("个"),a("strong",[s._v("基元")]),s._v("（理解为字、词或短语）构成的句子"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("s")]),a("mo",[s._v("=")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("2")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("m")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("s = w_1,w_2,\\dots,w_m")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.4306em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("s")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.1944em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("2")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.1514em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])])])])]),s._v("，该句子出现概率表示为：")]),s._v(" "),a("p",{staticClass:"katex-block"},[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}},[a("semantics",[a("mtable",{attrs:{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"}},[a("mtr",[a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("mi",[s._v("s")]),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1),a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mrow"),a("mo",[s._v("=")]),a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("2")])],1),a("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mo",[s._v("…")]),a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("m")])],1),a("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("m")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1)],1),a("mtr",[a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow")],1)],1),a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mrow"),a("mo",[s._v("=")]),a("munderover",[a("mo",[s._v("∏")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("=")]),a("mn",[s._v("1")])],1),a("mi",[s._v("m")])],1),a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("i")])],1),a("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1)],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\begin{aligned}\np(s) &= p(w_1)p(w_2|w_1)\\dots p(w_m|w_1,\\dots,w_{m-1}) \\\\\n&= \\prod \\limits_{i=1}^{m} p(w_i|w_1,\\dots,w_{i-1})\n\\end{aligned}\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"4.7291em","vertical-align":"-2.1145em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mtable"},[a("span",{staticClass:"col-align-r"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"2.6145em"}},[a("span",{staticStyle:{top:"-5.4259em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.6514em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord mathnormal"},[s._v("s")]),a("span",{staticClass:"mclose"},[s._v(")")])])]),a("span",{staticStyle:{top:"-3.1145em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.6514em"}}),a("span",{staticClass:"mord"})])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"2.1145em"}},[a("span")])])])]),a("span",{staticClass:"col-align-l"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"2.6145em"}},[a("span",{staticStyle:{top:"-5.4259em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.6514em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"}),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("2")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord"},[s._v("∣")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.1514em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord"},[s._v("∣")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")])])]),a("span",{staticStyle:{top:"-3.1145em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.6514em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"}),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mop op-limits"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.6514em"}},[a("span",{staticStyle:{top:"-1.8723em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mrel mtight"},[s._v("=")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticStyle:{top:"-3.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",[a("span",{staticClass:"mop op-symbol large-op"},[s._v("∏")])])]),a("span",{staticStyle:{top:"-4.3em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.2777em"}},[a("span")])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord"},[s._v("∣")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"2.1145em"}},[a("span")])])])])])])])])])])]),s._v(" "),a("p",[s._v("其中，"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("i")])],1),a("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("p(w_i|w_1,\\dots,w_{i-1})")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord"},[s._v("∣")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("表示产生第"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("i")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("i")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6595em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("i")])])])]),s._v("个基元（用词代称）的概率由已经产生的前"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("i-1")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.7429em","vertical-align":"-0.0833em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("i")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}}),a("span",{staticClass:"mbin"},[s._v("−")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6444em"}}),a("span",{staticClass:"mord"},[s._v("1")])])])]),s._v("个词"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w_1,\\dots,w_{i-1}")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6389em","vertical-align":"-0.2083em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])])])])]),s._v("决定。")]),s._v(" "),a("p",[s._v("假设一门语言的词汇量为"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("V")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("V")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6833em"}}),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")])])])]),s._v("，则上述句子"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("s")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("s")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.4306em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("s")])])])]),s._v("出现概率计算参数量为"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("msup",[a("mi",[s._v("V")]),a("mi",[s._v("m")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("V^m")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6833em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.22222em"}},[s._v("V")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.6644em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])])])])])])])])]),s._v("，是一个庞大的数字。")]),s._v(" "),a("h2",{attrs:{id:"语言模型的评价指标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语言模型的评价指标"}},[s._v("#")]),s._v(" 语言模型的评价指标")]),s._v(" "),a("p",[a("strong",[s._v("困惑度")]),s._v("（perplexity）：在一个测试数据上的perplexity越低，说明语言模型建模效果越好，计算公式如下：")]),s._v(" "),a("p",{staticClass:"katex-block"},[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}},[a("semantics",[a("mtable",{attrs:{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"}},[a("mtr",[a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mrow",[a("mi",{attrs:{mathvariant:"normal"}},[s._v("p")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("r")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("p")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("l")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("x")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("i")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("t")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("y")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("mi",[s._v("s")]),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1),a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mrow"),a("mo",[s._v("=")]),a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("m")])],1),a("msup",[a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mrow",[a("mo",[s._v("−")]),a("mfrac",[a("mn",[s._v("1")]),a("mi",[s._v("m")])],1)],1)],1)],1)],1)],1)],1),a("mtr",[a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow")],1)],1),a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mrow"),a("mo",[s._v("=")]),a("mroot",[a("mrow",[a("munderover",[a("mo",[s._v("∏")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("=")]),a("mn",[s._v("1")])],1),a("mi",[s._v("m")])],1),a("mfrac",[a("mn",[s._v("1")]),a("mrow",[a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("i")])],1),a("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1),a("mi",[s._v("m")])],1)],1)],1)],1)],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\begin{aligned}\n{\\rm perplexity}(s) &= p(w_1,\\dots,w_{m})^{-\\frac{1}{m}} \\\\\n&= \\sqrt[m]{\\prod \\limits_{i=1}^m \\frac{1}{p(w_i|w_1,\\dots,w_{i-1})}}\n\\end{aligned}\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"5.1208em","vertical-align":"-2.3104em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mtable"},[a("span",{staticClass:"col-align-r"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"2.8104em"}},[a("span",{staticStyle:{top:"-5.6855em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.8791em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("perplexity")])])]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord mathnormal"},[s._v("s")]),a("span",{staticClass:"mclose"},[s._v(")")])])]),a("span",{staticStyle:{top:"-3.1464em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.8791em"}}),a("span",{staticClass:"mord"})])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"2.3104em"}},[a("span")])])])]),a("span",{staticClass:"col-align-l"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"2.8104em"}},[a("span",{staticStyle:{top:"-5.6855em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.8791em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"}),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.1514em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.004em"}},[a("span",{staticStyle:{top:"-3.413em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mopen nulldelimiter sizing reset-size3 size6"}),a("span",{staticClass:"mfrac"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.8443em"}},[a("span",{staticStyle:{top:"-2.656em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"sizing reset-size3 size1 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])]),a("span",{staticStyle:{top:"-3.2255em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"frac-line mtight",staticStyle:{"border-bottom-width":"0.049em"}})]),a("span",{staticStyle:{top:"-3.384em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"sizing reset-size3 size1 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.344em"}},[a("span")])])])]),a("span",{staticClass:"mclose nulldelimiter sizing reset-size3 size6"})])])])])])])])])])])]),a("span",{staticStyle:{top:"-3.1464em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.8791em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"}),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mord sqrt"},[a("span",{staticClass:"root"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.5762em"}},[a("span",{staticStyle:{top:"-2.8609em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),a("span",{staticClass:"sizing reset-size6 size1 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])])])])])]),a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.8791em"}},[a("span",{staticClass:"svg-align",staticStyle:{top:"-5.1168em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"5.1168em"}}),a("span",{staticClass:"mord",staticStyle:{"padding-left":"1.056em"}},[a("span",{staticClass:"mop op-limits"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.6514em"}},[a("span",{staticStyle:{top:"-1.8723em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mrel mtight"},[s._v("=")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticStyle:{top:"-3.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",[a("span",{staticClass:"mop op-symbol large-op"},[s._v("∏")])])]),a("span",{staticStyle:{top:"-4.3em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.2777em"}},[a("span")])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mopen nulldelimiter"}),a("span",{staticClass:"mfrac"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.3214em"}},[a("span",{staticStyle:{top:"-2.314em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord"},[s._v("∣")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")])])]),a("span",{staticStyle:{top:"-3.23em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),a("span",{staticStyle:{top:"-3.677em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.936em"}},[a("span")])])])]),a("span",{staticClass:"mclose nulldelimiter"})])])]),a("span",{staticStyle:{top:"-3.8391em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"5.1168em"}}),a("span",{staticClass:"hide-tail",staticStyle:{"min-width":"0.742em",height:"3.1968em"}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"3.1968em",viewBox:"0 0 400000 3196",preserveAspectRatio:"xMinYMin slice"}},[a("path",{attrs:{d:"M702 80H40000040\nH742v3062l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v40H742z"}})])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.2777em"}},[a("span")])])])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"2.3104em"}},[a("span")])])])])])])])])])])]),s._v(" "),a("p",[s._v("perplexity刻画的是一个语言模型预测一个语言样本的能力，"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("mi",[s._v("s")]),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("p(s)")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord mathnormal"},[s._v("s")]),a("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("越高，语言模型对这个语料库拟合的越好。对于由多个句子构成的测试集$T "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mtext",[s._v("，通过计算")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("，通过计算")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6833em"}}),a("span",{staticClass:"mord cjk_fallback"},[s._v("，通过计算")])])])]),s._v("T"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mtext",[s._v("中所有的句子概率的乘积来计算")]),a("mi",[s._v("p")]),a("mi",[s._v("e")]),a("mi",[s._v("r")]),a("mi",[s._v("p")]),a("mi",[s._v("l")]),a("mi",[s._v("e")]),a("mi",[s._v("x")]),a("mi",[s._v("i")]),a("mi",[s._v("t")]),a("mi",[s._v("y")]),a("mtext",[s._v("，相应地，")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("中所有的句子概率的乘积来计算perplexity，相应地，")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.8889em","vertical-align":"-0.1944em"}}),a("span",{staticClass:"mord cjk_fallback"},[s._v("中所有的句子概率的乘积来计算")]),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[s._v("er")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[s._v("pl")]),a("span",{staticClass:"mord mathnormal"},[s._v("e")]),a("span",{staticClass:"mord mathnormal"},[s._v("x")]),a("span",{staticClass:"mord mathnormal"},[s._v("i")]),a("span",{staticClass:"mord mathnormal"},[s._v("t")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")]),a("span",{staticClass:"mord cjk_fallback"},[s._v("，相应地，")])])])]),s._v("m$替换为测试集中所有基元的数量。")]),s._v(" "),a("blockquote",[a("p",[s._v("如一个由0-9数字随机组成的长度为"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("m")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("m")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.4306em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("m")])])])]),s._v("的序列，由该10个数字出现的概率是随机的，概率为"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mfrac",[a("mn",[s._v("1")]),a("mn",[s._v("10")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\frac{1}{10}")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"1.1901em","vertical-align":"-0.345em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mopen nulldelimiter"}),a("span",{staticClass:"mfrac"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.8451em"}},[a("span",{staticStyle:{top:"-2.655em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mtight"},[s._v("10")])])])]),a("span",{staticStyle:{top:"-3.23em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),a("span",{staticStyle:{top:"-3.394em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[a("span")])])])]),a("span",{staticClass:"mclose nulldelimiter"})])])])]),s._v("，故在任意时刻，模型都有10个等概率的候选答案可用，perplexity为10，即：")]),s._v(" "),a("p",{staticClass:"katex-block"},[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}},[a("semantics",[a("mtable",{attrs:{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"}},[a("mtr",[a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mrow",[a("mi",{attrs:{mathvariant:"normal"}},[s._v("p")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("r")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("p")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("l")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("x")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("i")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("t")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("y")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("mi",[s._v("s")]),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1),a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mrow"),a("mo",[s._v("=")]),a("mroot",[a("mrow",[a("munderover",[a("mo",[s._v("∏")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("=")]),a("mn",[s._v("1")])],1),a("mi",[s._v("m")])],1),a("mfrac",[a("mn",[s._v("1")]),a("mn",[s._v("10")])],1)],1),a("mi",[s._v("m")])],1),a("mo",[s._v("=")]),a("mn",[s._v("10")])],1)],1)],1)],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\begin{aligned}\n{\\rm perplexity}(s) &= \\sqrt[m]{\\prod \\limits_{i=1}^m \\frac{1}{10}}=10\n\\end{aligned}\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"3.4568em","vertical-align":"-1.4784em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mtable"},[a("span",{staticClass:"col-align-r"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.9784em"}},[a("span",{staticStyle:{top:"-3.9784em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.8791em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("perplexity")])])]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord mathnormal"},[s._v("s")]),a("span",{staticClass:"mclose"},[s._v(")")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.4784em"}},[a("span")])])])]),a("span",{staticClass:"col-align-l"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.9784em"}},[a("span",{staticStyle:{top:"-3.9784em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.8791em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"}),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mord sqrt"},[a("span",{staticClass:"root"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.5762em"}},[a("span",{staticStyle:{top:"-2.8609em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),a("span",{staticClass:"sizing reset-size6 size1 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])])])])])]),a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.8791em"}},[a("span",{staticClass:"svg-align",staticStyle:{top:"-5.1168em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"5.1168em"}}),a("span",{staticClass:"mord",staticStyle:{"padding-left":"1.056em"}},[a("span",{staticClass:"mop op-limits"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.6514em"}},[a("span",{staticStyle:{top:"-1.8723em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mrel mtight"},[s._v("=")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticStyle:{top:"-3.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",[a("span",{staticClass:"mop op-symbol large-op"},[s._v("∏")])])]),a("span",{staticStyle:{top:"-4.3em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.2777em"}},[a("span")])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mopen nulldelimiter"}),a("span",{staticClass:"mfrac"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.3214em"}},[a("span",{staticStyle:{top:"-2.314em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("10")])])]),a("span",{staticStyle:{top:"-3.23em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),a("span",{staticStyle:{top:"-3.677em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[a("span")])])])]),a("span",{staticClass:"mclose nulldelimiter"})])])]),a("span",{staticStyle:{top:"-3.8391em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"5.1168em"}}),a("span",{staticClass:"hide-tail",staticStyle:{"min-width":"0.742em",height:"3.1968em"}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"3.1968em",viewBox:"0 0 400000 3196",preserveAspectRatio:"xMinYMin slice"}},[a("path",{attrs:{d:"M702 80H40000040\nH742v3062l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v40H742z"}})])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.2777em"}},[a("span")])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mord"},[s._v("10")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.4784em"}},[a("span")])])])])])])])])])])])]),s._v(" "),a("p",[s._v("实际语言训练中，通常采用perplexity的"),a("strong",[s._v("对数")]),s._v("形式表示：")]),s._v(" "),a("p",{staticClass:"katex-block"},[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}},[a("semantics",[a("mrow",[a("mi",[s._v("log")]),a("mo",[s._v("⁡")]),a("mrow",[a("mo",{attrs:{fence:"true"}},[s._v("(")]),a("mrow",[a("mi",{attrs:{mathvariant:"normal"}},[s._v("p")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("r")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("p")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("l")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("x")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("i")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("t")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("y")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("mi",[s._v("s")]),a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mo",{attrs:{fence:"true"}},[s._v(")")])],1),a("mo",[s._v("=")]),a("mo",[s._v("−")]),a("mfrac",[a("mn",[s._v("1")]),a("mi",[s._v("m")])],1),a("munderover",[a("mo",[s._v("∑")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("=")]),a("mn",[s._v("1")])],1),a("mi",[s._v("m")])],1),a("mi",[s._v("log")]),a("mo",[s._v("⁡")]),a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("i")])],1),a("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("{\\log}\\left({\\rm perplexity}(s)\\right) = - \\frac{1}{m} \\sum\\limits_{i=1}^m \\log p(w_i|w_1,\\dots,w_{i-1})\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mop"},[s._v("lo"),a("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[a("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("perplexity")])])]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord mathnormal"},[s._v("s")]),a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"mclose delimcenter",staticStyle:{top:"0em"}},[s._v(")")])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"2.9291em","vertical-align":"-1.2777em"}}),a("span",{staticClass:"mord"},[s._v("−")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mopen nulldelimiter"}),a("span",{staticClass:"mfrac"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.3214em"}},[a("span",{staticStyle:{top:"-2.314em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("m")])])]),a("span",{staticStyle:{top:"-3.23em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),a("span",{staticStyle:{top:"-3.677em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[a("span")])])])]),a("span",{staticClass:"mclose nulldelimiter"})]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mop op-limits"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.6514em"}},[a("span",{staticStyle:{top:"-1.8723em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mrel mtight"},[s._v("=")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticStyle:{top:"-3.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",[a("span",{staticClass:"mop op-symbol large-op"},[s._v("∑")])])]),a("span",{staticStyle:{top:"-4.3em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.2777em"}},[a("span")])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mop"},[s._v("lo"),a("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord"},[s._v("∣")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")])])])])])]),s._v(" "),a("p",[s._v("将乘积求平方根形式转换为加法，"),a("strong",[s._v("加速计算")]),s._v("，并且可以"),a("strong",[s._v("避免乘积数值过小导致的浮点数向下溢出")]),s._v("的问题。")]),s._v(" "),a("blockquote",[a("p",[s._v("数学上，"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("log")]),a("mo",[s._v("⁡")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\log")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.8889em","vertical-align":"-0.1944em"}}),a("span",{staticClass:"mop"},[s._v("lo"),a("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])])])])]),s._v("形式的perplexity可以看成是"),a("strong",[s._v("真实分布")]),s._v("和预测分布的交叉熵，也即语言模型优化中往往使用"),a("strong",[s._v("cross entropy loss")]),s._v("的原因。")]),s._v(" "),a("p",[s._v("真实分布：在测试预料中，认为给定上文"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w_1,\\dots,w_{i-1}")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6389em","vertical-align":"-0.2083em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])])])])]),s._v("的条件下，预料中"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("i")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("w_i")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.5806em","vertical-align":"-0.15em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])])])])]),s._v("出现的概率为1，其它词出现概率为0。")])]),s._v(" "),a("h2",{attrs:{id:"n-gram-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#n-gram-model"}},[s._v("#")]),s._v(" n-gram model")]),s._v(" "),a("p",[s._v("n-gram模型是统计语言模型常用的一种，为解决上述参数呈指数级增长的问题，n-gram model引入了"),a("strong",[s._v("马尔科夫假设")]),s._v("：当前词的出现频率仅与前"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("n")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("n-1")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6667em","vertical-align":"-0.0833em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("n")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}}),a("span",{staticClass:"mbin"},[s._v("−")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6444em"}}),a("span",{staticClass:"mord"},[s._v("1")])])])]),s._v("个词有关。计算公式近似如下：")]),s._v(" "),a("p",{staticClass:"katex-block"},[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}},[a("semantics",[a("mtable",{attrs:{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"}},[a("mtr",[a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("mi",[s._v("s")]),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1),a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mrow"),a("mo",[s._v("=")]),a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("2")])],1),a("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mo",[s._v("…")]),a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("m")])],1),a("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("m")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1)],1),a("mtr",[a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow")],1)],1),a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mrow"),a("mo",[s._v("=")]),a("munderover",[a("mo",[s._v("∏")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("=")]),a("mn",[s._v("1")])],1),a("mi",[s._v("m")])],1),a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("i")])],1),a("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),a("msub",[a("mi",[s._v("w")]),a("mn",[s._v("1")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1)],1),a("mtr",[a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow")],1)],1),a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mrow"),a("mo",[s._v("≐")]),a("munderover",[a("mo",[s._v("∏")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("=")]),a("mn",[s._v("1")])],1),a("mi",[s._v("m")])],1),a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("i")])],1),a("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mi",[s._v("n")]),a("mo",[s._v("+")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1)],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\begin{aligned}\np(s) &= p(w_1)p(w_2|w_1)\\dots p(w_m|w_1,\\dots,w_{m-1}) \\\\\n&= \\prod \\limits_{i=1}^{m} p(w_i|w_1,\\dots,w_{i-1}) \\\\\n& \\doteq \\prod \\limits_{i=1}^m p(w_i|w_{i-n+1},\\dots,w_{i-1})\n\\end{aligned}\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"7.9581em","vertical-align":"-3.7291em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mtable"},[a("span",{staticClass:"col-align-r"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"4.2291em"}},[a("span",{staticStyle:{top:"-7.0405em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.6514em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord mathnormal"},[s._v("s")]),a("span",{staticClass:"mclose"},[s._v(")")])])]),a("span",{staticStyle:{top:"-4.7291em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.6514em"}}),a("span",{staticClass:"mord"})]),a("span",{staticStyle:{top:"-1.5em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.6514em"}}),a("span",{staticClass:"mord"})])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"3.7291em"}},[a("span")])])])]),a("span",{staticClass:"col-align-l"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"4.2291em"}},[a("span",{staticStyle:{top:"-7.0405em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.6514em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"}),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("2")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord"},[s._v("∣")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.1514em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord"},[s._v("∣")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")])])]),a("span",{staticStyle:{top:"-4.7291em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.6514em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"}),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mop op-limits"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.6514em"}},[a("span",{staticStyle:{top:"-1.8723em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mrel mtight"},[s._v("=")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticStyle:{top:"-3.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",[a("span",{staticClass:"mop op-symbol large-op"},[s._v("∏")])])]),a("span",{staticStyle:{top:"-4.3em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.2777em"}},[a("span")])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord"},[s._v("∣")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3011em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")])])]),a("span",{staticStyle:{top:"-1.5em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.6514em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"}),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("≐")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mop op-limits"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.6514em"}},[a("span",{staticStyle:{top:"-1.8723em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mrel mtight"},[s._v("=")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])]),a("span",{staticStyle:{top:"-3.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",[a("span",{staticClass:"mop op-symbol large-op"},[s._v("∏")])])]),a("span",{staticStyle:{top:"-4.3em","margin-left":"0em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("m")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.2777em"}},[a("span")])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord"},[s._v("∣")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mathnormal mtight"},[s._v("n")]),a("span",{staticClass:"mbin mtight"},[s._v("+")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"3.7291em"}},[a("span")])])])])])])])])])])]),s._v(" "),a("p",[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("n")]),a("mo",[s._v("=")]),a("mn",[s._v("1")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mn",[s._v("2")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mn",[s._v("3")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("n=1,2,3")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.4306em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("n")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.8389em","vertical-align":"-0.1944em"}}),a("span",{staticClass:"mord"},[s._v("1")]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[s._v("3")])])])]),s._v("分别对应"),a("code",[s._v("unigram")]),s._v("，"),a("code",[s._v("bigram")]),s._v("，"),a("code",[s._v("trigram")]),s._v("。理论上"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("n")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.4306em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("n")])])])]),s._v("的值越大，模型的越准确，但也越复杂，计算量和训练数据量越大。"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("n")]),a("mo",[s._v("≥")]),a("mn",[s._v("4")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("n\\ge 4")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.7719em","vertical-align":"-0.136em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("n")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("≥")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6444em"}}),a("span",{staticClass:"mord"},[s._v("4")])])])]),s._v("情况很少。")]),s._v(" "),a("p",[s._v("n-gram model一般使用"),a("strong",[s._v("最大似然估计")]),s._v("（maximum likelihood estimation，MLE）进行参数估计：")]),s._v(" "),a("p",{staticClass:"katex-block"},[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}},[a("semantics",[a("mtable",{attrs:{rowspacing:"0.16em",columnspacing:"1em"}},[a("mtr",[a("mtd",{staticClass:"mtr-glue"}),a("mtd",[a("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[a("mrow",[a("mi",[s._v("p")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("i")])],1),a("mi",{attrs:{mathvariant:"normal"}},[s._v("∣")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mi",[s._v("n")]),a("mo",[s._v("+")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mo",[s._v("=")]),a("mfrac",[a("mrow",[a("mi",[s._v("C")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mi",[s._v("n")]),a("mo",[s._v("+")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mi",[s._v("i")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),a("mrow",[a("mi",[s._v("C")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mi",[s._v("n")]),a("mo",[s._v("+")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("…")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("msub",[a("mi",[s._v("w")]),a("mrow",[a("mi",[s._v("i")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1)],1)],1),a("mtd",{staticClass:"mtr-glue"}),a("mtd",{staticClass:"mml-eqn-num"})],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\begin{equation}\np(w_i|w_{i-n+1},\\dots,w_{i-1}) = \\frac{C(w_{i-n+1},\\dots,w_{i-1},w_i)}{C(w_{i-n+1},\\dots,w_{i-1})}\n\\end{equation}\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"2.363em","vertical-align":"-0.9315em"}}),a("span",{staticClass:"mtable"},[a("span",{staticClass:"col-align-c"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.4315em"}},[a("span",{staticStyle:{top:"-3.4315em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.427em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mord"},[s._v("∣")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mathnormal mtight"},[s._v("n")]),a("span",{staticClass:"mbin mtight"},[s._v("+")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mopen nulldelimiter"}),a("span",{staticClass:"mfrac"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.427em"}},[a("span",{staticStyle:{top:"-2.314em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mathnormal mtight"},[s._v("n")]),a("span",{staticClass:"mbin mtight"},[s._v("+")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")])])]),a("span",{staticStyle:{top:"-3.23em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),a("span",{staticStyle:{top:"-3.677em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mathnormal mtight"},[s._v("n")]),a("span",{staticClass:"mbin mtight"},[s._v("+")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"minner"},[s._v("…")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.2083em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.1667em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.3117em"}},[a("span",{staticStyle:{top:"-2.55em","margin-left":"-0.0269em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("i")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mclose"},[s._v(")")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.936em"}},[a("span")])])])]),a("span",{staticClass:"mclose nulldelimiter"})])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.9315em"}},[a("span")])])])])])]),a("span",{staticClass:"tag"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"1.4315em"}},[a("span",{staticStyle:{top:"-3.4315em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"3.427em"}}),a("span",{staticClass:"eqn-num"})])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.9315em"}},[a("span")])])])])])])])]),s._v(" "),a("p",[s._v("其中，"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("C")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("mi",[s._v("X")]),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("C(X)")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.07847em"}},[s._v("X")]),a("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("表示序列"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("X")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("X")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6833em"}}),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.07847em"}},[s._v("X")])])])]),s._v("在训练预料中出现的次数。训练预料规模越大，参数估计的结果越可靠。")]),s._v(" "),a("p",[s._v("但存在"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("C")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("mi",[s._v("X")]),a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mo",[s._v("=")]),a("mn",[s._v("0")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("C(X) = 0")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.07153em"}},[s._v("C")]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.07847em"}},[s._v("X")]),a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.6444em"}}),a("span",{staticClass:"mord"},[s._v("0")])])])]),s._v("的问题，即训练集中，目标序列（如一句话中的某个词）未出现而导致参数为0，进而导致概率为0，引出了"),a("strong",[s._v("数据平滑")]),s._v("（data  smoothing）策略。")]),s._v(" "),a("h2",{attrs:{id:"神经网络语言模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#神经网络语言模型"}},[s._v("#")]),s._v(" 神经网络语言模型")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("模型名称")]),s._v(" "),a("th",[s._v("提出")]),s._v(" "),a("th",[s._v("简述")]),s._v(" "),a("th",[s._v("论文")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("NNLM")]),s._v(" "),a("td",[s._v("Bengio@2003")]),s._v(" "),a("td",[s._v("将神经网络引入LM中，只能处理定长序列，本质上是一个使用NN编码的n-gram model")]),s._v(" "),a("td",[s._v("《"),a("a",{attrs:{href:"http://www.jmlr.org/papers/volume3/bengio03a/bengio03a.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("A Neural Probabilistic Language Model"),a("OutboundLink")],1),s._v("》")])]),s._v(" "),a("tr",[a("td",[s._v("RNNLM")]),s._v(" "),a("td",[s._v("Tomas Mikolov@2010")]),s._v(" "),a("td",[s._v("可以处理变长序列，但训练速度太慢，对于大规模的语料库基本无法训练")]),s._v(" "),a("td",[s._v("《"),a("a",{attrs:{href:"https://www.isca-speech.org/archive/archive_papers/interspeech_2010/i10_1045.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("Recurrent Neural Network based  Language Model"),a("OutboundLink")],1),s._v("》")])]),s._v(" "),a("tr",[a("td",[s._v("Word2Vec")]),s._v(" "),a("td",[s._v("Tomas Mikolov@2013")]),s._v(" "),a("td",[s._v("专门用于计算word embedding的工具，提出2个浅层NN模型：CBOW（Continuous Bag-of-Words）、Skip-gram。"),a("br"),s._v("在隐含层到输出层引入2种优化算法：层次化softmax（Hierarchical Softmax）、负采样（Negative Sampling）")]),s._v(" "),a("td",[s._v("《"),a("a",{attrs:{href:"https://papers.nips.cc/paper/5021-distributed-representations-of-words-and-phrases-and-their-compositionality.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("Distributed Representations of Words and Phrases and their Compositionality"),a("OutboundLink")],1),s._v("》"),a("br"),s._v("《"),a("a",{attrs:{href:"https://arxiv.org/pdf/1301.3781.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("Efficient Estimation of Word Representations in Vector Space"),a("OutboundLink")],1),s._v("》")])]),s._v(" "),a("tr",[a("td",[s._v("GloVe")]),s._v(" "),a("td",[s._v("Jeffrey Pennington@2014")]),s._v(" "),a("td",[s._v("一个基于全局词频统计（count-based& overall statistics）的词表征（word representation）模型。生成的word embedding可以捕捉相似性（similarity）、类比性（analogy）等语义特性")]),s._v(" "),a("td",[s._v("《"),a("a",{attrs:{href:"https://www.aclweb.org/anthology/D14-1162.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("GloVe: Global Vectors for Word Representation"),a("OutboundLink")],1),s._v("》")])]),s._v(" "),a("tr",[a("td",[s._v("ELMo")]),s._v(" "),a("td",[s._v("AllenAI@2018")]),s._v(" "),a("td",[s._v("目的是区分多义词的不同语义")]),s._v(" "),a("td",[s._v("《"),a("a",{attrs:{href:"https://arxiv.org/pdf/1802.05365.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("Deep contextualized word representations"),a("OutboundLink")],1),s._v("》")])]),s._v(" "),a("tr",[a("td",[s._v("GPT")]),s._v(" "),a("td",[s._v("OpenAI@2018")]),s._v(" "),a("td",[s._v("主体采用Transformer Decoder（去除了multi-head attention），训练目标是根据上文预测下文，存在mask机制。"),a("br"),s._v("通过集合非监督预训练和监督的fine-tuning，为自然语言理解（NLU）任务提供一种普适的半监督学习方式")]),s._v(" "),a("td",[s._v("《"),a("a",{attrs:{href:"https://s3-us-west-2.amazonaws.com/openai-assets/research-covers/language-unsupervised/language_understanding_paper.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("Improving Language Understanding by Generative Pre-Training"),a("OutboundLink")],1),s._v("》")])]),s._v(" "),a("tr",[a("td",[s._v("BERT")]),s._v(" "),a("td",[s._v("Google@2018")]),s._v(" "),a("td",[s._v("主题采用了Transformer的Encoder，和GPT一样也采用两阶段训练方式：Pre-training和fine-tuning。"),a("br"),s._v("预训练包括两个无监督任务：Masked LM (MLM)和下一句预测（NSP）"),a("br"),s._v("fine-tuning只是在预训练模型的output后面增加一个额外的线性层")]),s._v(" "),a("td",[s._v("《"),a("a",{attrs:{href:"https://arxiv.org/pdf/1810.04805.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("BERT: Pre-training of Deep Bidirectional Transformers for Language Understanding"),a("OutboundLink")],1),s._v("》")])]),s._v(" "),a("tr",[a("td",[s._v("GPT-2")]),s._v(" "),a("td",[s._v("OpenAI@2019")]),s._v(" "),a("td",[s._v("相较于GPT，GPT-2提升训练数据的数量、质量和广泛度（webtext）"),a("br"),s._v("模型结构调整：LN移到每个sub-block的输入位置，最后一个self-attention block后增加一个LN，调整部分参数的初始化方式，扩大词表，seq-len从512提升到1024，batchsize为512"),a("br"),s._v("GPT-2只保留了pre-training阶段，并直接对zero-shot场景做transfer learning。")]),s._v(" "),a("td",[s._v("《"),a("a",{attrs:{href:"https://d4mucfpksywv.cloudfront.net/better-language-models/language_models_are_unsupervised_multitask_learners.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("Language Models are Unsupervised Multitask Learners"),a("OutboundLink")],1),s._v("》")])]),s._v(" "),a("tr",[a("td",[s._v("ERNIE")]),s._v(" "),a("td",[s._v("Baidu@2019")]),s._v(" "),a("td",[s._v("在BERT的基础进行改进："),a("br"),s._v("采用multi-stage的masking策略：Basic-level masking（字粒度）、phrase-level masking（短语粒度）、entity-level masking（实体粒度）"),a("br"),s._v("预训练阶段采用更丰富的多源语料：中文wiki、百度百科、百度新闻、百度贴吧"),a("br"),s._v("利用百度贴吧对话数据进行DLM（Dialogue Language Model）任务的训练")]),s._v(" "),a("td",[s._v("《"),a("a",{attrs:{href:"https://arxiv.org/pdf/1904.09223.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("ERNIE: Enhanced Representation through Knowledge Integration"),a("OutboundLink")],1),s._v("》"),a("br"),s._v("《"),a("a",{attrs:{href:"https://arxiv.org/pdf/1907.12412.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("ERNIE 2.0: A Continual Pre-Training Framework for Language Understanding"),a("OutboundLink")],1),s._v("》")])]),s._v(" "),a("tr",[a("td",[s._v("GPT-3")]),s._v(" "),a("td",[s._v("OpenAI@2020")]),s._v(" "),a("td",[s._v("相较于GPT-2.0，优化点有："),a("br"),s._v("数据量提升"),a("br"),s._v("模型规模提升"),a("br"),s._v("探讨了在zero-shot、one-shot、few-shot三种不同输入形式下的效果，证明在few-shot下有很好的表现")]),s._v(" "),a("td",[s._v("《"),a("a",{attrs:{href:"https://arxiv.org/pdf/2005.14165.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("Language Models are Few-Shot Learners"),a("OutboundLink")],1),s._v("》")])]),s._v(" "),a("tr",[a("td",[s._v("ChatGPT")]),s._v(" "),a("td",[s._v("OpenAI@2022")]),s._v(" "),a("td",[s._v("是InstructGPT的兄弟模型，模型可以根据输入指令提供详细的回答。通过对话的形式进行问答任务、承认错误、质疑不正确的前提以及拒绝不适当的请求。")]),s._v(" "),a("td",[s._v("《"),a("a",{attrs:{href:"https://openai.com/blog/chatgpt/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ChatGPT: Optimizing Language Models for Dialogue"),a("OutboundLink")],1),s._v("》")])])])]),s._v(" "),a("h2",{attrs:{id:"references"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[s._v("#")]),s._v(" References")]),s._v(" "),a("p",[s._v("语言模型@https://zhuanlan.zhihu.com/p/90741508")])])}),[],!1,null,null,null);t.default=l.exports}}]);